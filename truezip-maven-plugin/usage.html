<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-09-15 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Dan T. Tran" />
    <meta name="Date-Creation-yyyymmdd" content="20080915" />
    <meta name="Date-Revision-yyyymmdd" content="20150915" />
    <meta http-equiv="Content-Language" content="en" />
    <title>TrueZIP Maven Plugin &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/mojohaus/mojo-parent">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../../" id="bannerLeft">
                                                                                                <img src="../../../images/mojo_logo.png"  alt="MojoHaus"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../../../" title="MojoHaus">
        MojoHaus</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../../mojo-parent" title="MojoHaus Parent">
        MojoHaus Parent</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../" title="TrueZip">
        TrueZip</a>
                    <span class="divider">/</span>
      </li>
                <li class="">
                    <a href="./" title="TrueZIP Maven Plugin">
        TrueZIP Maven Plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Usage</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2015-09-15</li>
              <li id="projectVersion" class="pull-right">
                      <span class="divider">|</span>
                    Version: 1.3-SNAPSHOT
        </li>
            
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="https://truezip.dev.java.net" class="externalLink" title="TrueZIP">
        TrueZIP</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Usage</a>
          </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="https://svn.codehaus.org/mojo/trunk/mojo/truezip/truezip-maven-plugin/src/it/copy-it" class="externalLink" title="Copy">
          <span class="none"></span>
        Copy</a>
            </li>
                
      <li>
  
                          <a href="https://svn.codehaus.org/mojo/trunk/mojo/truezip/truezip-maven-plugin/src/it/remove-it" class="externalLink" title="Remove">
          <span class="none"></span>
        Remove</a>
            </li>
                
      <li>
  
                          <a href="https://svn.codehaus.org/mojo/trunk/mojo/truezip/truezip-maven-plugin/src/it/move-it" class="externalLink" title="Move">
          <span class="none"></span>
        Move</a>
            </li>
                
      <li>
  
                          <a href="https://svn.codehaus.org/mojo/trunk/mojo/truezip/truezip-maven-plugin/src/it/tar-it" class="externalLink" title="Sub Archive">
          <span class="none"></span>
        Sub Archive</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="TrueZIP_Maven_Plugin"></a>TrueZIP Maven Plugin</h2>
<p>This plugin uses <a class="externalLink" href="https://truezip.dev.java.net/">TrueZIP</a> which treats archives as a virtual file systems. Each archive file is considered as a directory of a file system.</p>
<p>Similar to <a class="externalLink" href="http://maven.apache.org/plugins/maven-assembly-plugin"> assembly</a> and <a class="externalLink" href="http://maven.apache.org/plugins/maven-clean-plugin">clean</a> plugins, <a class="externalLink" href="http://maven.apache.org/shared/file-management/apidocs/index.html"> FileSet</a> is used extensively to manipulate file system type actions.</p>
<p>The following contains some brief examples on how to use the truezip goals.</p>
<div class="section">
<h3><a name="Remove"></a>Remove</h3>
<p>The <b>remove</b> goal can remove files from an existing archive. The below example shows how to remove any pom.properties file under the <b>META-INF/maven</b> directory of the archive.</p>
<div>
<pre>  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      [...]
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;remove-a-file&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;remove&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;fileset&gt;
                &lt;!-- note how the archive is treated as a normal file directory --&gt;
                &lt;directory&gt;${archive}/META-INF/maven&lt;/directory&gt;
                &lt;includes&gt;
                  &lt;include&gt;**/pom.properties&lt;/include&gt;
                &lt;/includes&gt;
              &lt;/fileset&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
          [...]
        &lt;/executions&gt;
      &lt;/plugin&gt;
      [...]
    &lt;/plugins&gt;
  &lt;/build&gt;

  &lt;properties&gt;
    &lt;archive&gt;path.to.an.archive&lt;/archive&gt;
  &lt;/properties&gt;</pre></div></div>
<div class="section">
<h3><a name="Copy"></a>Copy</h3>
<p>The <b>copy</b> goal can copy files in and out of the archive. The below example shows multiple executions:</p>
<ul>
<li>Copy files from the archive to a real file system with option to rename the file on the fly. This is similar to the maven-assembly-plugin's <i>files</i> configuration.</li>
<li>Copy files from the archive to a real file system using FileSet interface.</li>
<li>Copy files from the real file system to the archive.</li></ul>
<div>
<pre>  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      [...]
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;copy-out-files&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;copy&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;files&gt;
                &lt;file&gt;
                  &lt;source&gt;${archive}/META-INF/maven/${project.groupId}/${project.artifactId}/pom.properties&lt;/source&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/copy-file&lt;/outputDirectory&gt;
                &lt;/file&gt;
                &lt;file&gt;
                  &lt;source&gt;${archive}/META-INF/maven/${project.groupId}/${project.artifactId}/pom.xml&lt;/source&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/copy-file&lt;/outputDirectory&gt;
                  &lt;destName&gt;pom.with.xml.extension&lt;/destName&gt;
                &lt;/file&gt;
              &lt;/files&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;

          &lt;execution&gt;
            &lt;id&gt;copy-out-fileset&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;copy&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;fileset&gt;
                &lt;directory&gt;${archive}&lt;/directory&gt;
                &lt;excludes&gt;
                  &lt;exclude&gt;**/pom.properties&lt;/exclude&gt;
                &lt;/excludes&gt;
                &lt;outputDirectory&gt;${project.build.directory}/copy-fileset&lt;/outputDirectory&gt;
              &lt;/fileset&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;

          &lt;execution&gt;
            &lt;id&gt;copy-into&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;copy&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;fileset&gt;
                &lt;directory&gt;${basedir}&lt;/directory&gt;
                &lt;includes&gt;
                  &lt;include&gt;*&lt;/include&gt;
                &lt;/includes&gt;
                &lt;outputDirectory&gt;${archive}/copy-into&lt;/outputDirectory&gt;
              &lt;/fileset&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;

      &lt;/plugin&gt;
      [...]
    &lt;/plugins&gt;
  &lt;/build&gt;

  &lt;properties&gt;
    &lt;archive&gt;path.to.an.archive&lt;/archive&gt;
  &lt;/properties&gt;</pre></div></div>
<div class="section">
<h3><a name="Packunpack_from_command_line"></a>Pack/unpack from command line</h3>
<p>Use <b>cp</b> goal to copy an archive/directory to another archive/directory.</p>
<ul>
<li>The following example shows how to unpack an archive to a directory
<div>
<pre>mvn truezip:cp -Dfrom=apache-maven-2.2.1-bin.tar.gz -Dto=.</pre></div></li>
<li>The following example shows how to pack a directory to an archive
<div>
<pre>mvn truezip:cp -Dfrom=apache-maven-2.2.1 -Dto=apache-maven-2.2.1.zip</pre></div></li>
<li>The following example shows how to transfer an archive to another archive
<div>
<pre>mvn truezip:cp -Dfrom=apache-maven-2.2.1-bin.tar.gz -Dto=apache-maven-2.2.1-bin.zip</pre></div></li></ul></div>
<div class="section">
<h3><a name="Move"></a>Move</h3>
<p>The <b>move</b> goal can move a file in, out, or within the archive. The below examples show how to move an archive's file to another location in the archive. Note that the location can be outside of the archive as well.</p>
<div>
<pre>  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      [...]
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;move-a-file&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;move&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;!-- move a archive file to another directory in the same archive --&gt;
              &lt;from&gt;${archive}/META-INF/MANIFEST.MF&lt;/from&gt;
              &lt;to&gt;${archive}/META-INF2/MANIFEST.MF&lt;/to&gt;

              &lt;!-- use this if you want to move it out of the archive --&gt;
              &lt;!--to&gt;${project.build.directory}/MANIFEST.MF&lt;/to--&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
          [...]
        &lt;/executions&gt;
      &lt;/plugin&gt;
      [...]
    &lt;/plugins&gt;
  &lt;/build&gt;

  &lt;properties&gt;
    &lt;archive&gt;path.to.an.archive&lt;/archive&gt;
  &lt;/properties&gt;</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2015
                        <a href="http://www.mojohaus.org">MojoHaus</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>